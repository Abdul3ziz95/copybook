
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ميزانيتك المالية الذكية</title>

<style>
:root{
  --primary:#0d6efd;
  --success:#28a745;
  --danger:#dc3545;
  --bg:#f4f6f8;
}

body{
  font-family:Tahoma;
  background:var(--bg);
  margin:0;
}

header{
  background:var(--primary);
  color:#fff;
  padding:15px;
  text-align:center;
  font-size:20px;
}

.tabs{
  display:flex;
  background:#fff;
}

.tabs button{
  flex:1;
  padding:12px;
  border:none;
  background:#fff;
  font-size:15px;
}

.tabs button.active{
  background:var(--primary);
  color:#fff;
}

.section{
  display:none;
  padding:15px;
}

.section.active{
  display:block;
}

.card{
  background:#fff;
  padding:15px;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  margin-bottom:15px;
}

input, select{
  width:100%;
  padding:10px;
  margin:6px 0;
  font-size:15px;
}

button.action{
  width:100%;
  background:var(--success);
  color:#fff;
  padding:12px;
  border:none;
  border-radius:6px;
  font-size:16px;
}

ul{
  list-style:none;
  padding:0;
}

li{
  background:#eef6ff;
  margin-top:6px;
  padding:8px;
  border-radius:5px;
}

/* Toast */
.toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#333;
  color:#fff;
  padding:12px 20px;
  border-radius:30px;
  display:none;
}
.toast.show{
  display:block;
}
</style>
</head>

<body>

<header>ميزانيتك المالية الذكية</header>

<div class="tabs">
  <button class="active" onclick="openTab('expenses')">المصروفات</button>
  <button onclick="openTab('rights')">الحقوق</button>
  <button onclick="openTab('debts')">الالتزامات</button>
</div>

<!-- المصروفات -->
<div id="expenses" class="section active">
  <div class="card">
    <input id="eAmount" type="number" placeholder="المبلغ">
    <select id="eType">
      <option value="">اختر الفئة</option>
      <option>مواصلات</option>
      <option>طعام</option>
      <option>فواتير</option>
      <option>ترفيه</option>
      <option>صحة</option>
    </select>
    <input id="eDate" type="date">
    <button class="action" onclick="addExpense()">حفظ</button>
  </div>
  <ul id="eList"></ul>
</div>

<!-- الحقوق -->
<div id="rights" class="section">
  <div class="card">
    <input id="rName" placeholder="الاسم">
    <input id="rAmount" type="number" placeholder="المبلغ">
    <input id="rDate" type="date">
    <select id="rStatus">
      <option value="">الحالة</option>
      <option>مدفوع</option>
      <option>غير مدفوع</option>
    </select>
    <button class="action" onclick="addRight()">حفظ</button>
  </div>
  <ul id="rList"></ul>
</div>

<!-- الالتزامات -->
<div id="debts" class="section">
  <div class="card">
    <input id="dName" placeholder="الاسم">
    <input id="dAmount" type="number" placeholder="المبلغ">
    <input id="dDate" type="date">
    <select id="dStatus">
      <option value="">الحالة</option>
      <option>مدفوع</option>
      <option>غير مدفوع</option>
    </select>
    <button class="action" onclick="addDebt()">حفظ</button>
  </div>
  <ul id="dList"></ul>
</div>

<div id="toast" class="toast"></div>

<script>
const data={
  expenses:JSON.parse(localStorage.getItem("exp"))||[],
  rights:JSON.parse(localStorage.getItem("rig"))||[],
  debts:JSON.parse(localStorage.getItem("deb"))||[]
};

function toast(msg){
  const t=document.getElementById("toast");
  t.textContent=msg;
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"),2500);
}

function openTab(id){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.tabs button').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
}

function save(){
  localStorage.setItem("exp",JSON.stringify(data.expenses));
  localStorage.setItem("rig",JSON.stringify(data.rights));
  localStorage.setItem("deb",JSON.stringify(data.debts));
}

function render(){
  eList.innerHTML=data.expenses.map(e=>`<li>${e.amount} - ${e.type} - ${e.date}</li>`).join('');
  rList.innerHTML=data.rights.map(r=>`<li>${r.amount} - ${r.name} - ${r.status}</li>`).join('');
  dList.innerHTML=data.debts.map(d=>`<li>${d.amount} - ${d.name} - ${d.status}</li>`).join('');
}

function addExpense(){
  if(!eAmount.value||!eType.value||!eDate.value) return toast("أكمل جميع الحقول");
  data.expenses.push({amount:eAmount.value,type:eType.value,date:eDate.value});
  save(); render(); toast("تم الحفظ");
}

function addRight(){
  if(!rName.value||!rAmount.value||!rDate.value||!rStatus.value) return toast("أكمل جميع الحقول");
  data.rights.push({name:rName.value,amount:rAmount.value,status:rStatus.value});
  save(); render(); toast("تم الحفظ");
}

function addDebt(){
  if(!dName.value||!dAmount.value||!dDate.value||!dStatus.value) return toast("أكمل جميع الحقول");
  data.debts.push({name:dName.value,amount:dAmount.value,status:dStatus.value});
  save(); render(); toast("تم الحفظ");
}

render();
</script>

</body>
</html>
